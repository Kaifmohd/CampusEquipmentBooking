@startuml
start
:Input: equipment_id, user_id, date_from, date_to;
partition "Step 1" {
    :Check availability from Equipment;
}
partition "Step 2" {
    :Check for booking conflicts;
}
partition "Step 3" {
    if (Available and No Conflicts?) then (yes)
        :Insert Booking;
        :Commit transaction;
        :Set result = 'Booking successful!';
    else (no)
        :Rollback;
        :Set result = 'Booking failed';
    endif
}
stop
@enduml
